@{
    ViewBag.Title = "GetTicket Home";
}


@Scripts.Render("~/Images")
<script src="@Url.Content("~/Scripts/jquery-1.10.2.min.js")"></script>
<div id="homeheader" class="pageHeader">Welcome to GetTickets.com</div>
<div id="content">
    <div>Can get tickets for following games</div>
    <div id="gameButtons" class="hide">
        <div>
            <button class="buttons">Get Ticket for Game1</button>
        </div>
        <div>
            <button class="buttons">Get Ticket for Game2</button>
        </div>
        <div>
            <button class="buttons">Get Ticket for Game3</button>
        </div>
    </div>
    <div id="gameImages">
        <div class="gameImgDiv" ><div class="gameImgDivInner"><img class="gameImg" src="~/Images/Fair.jpg" /></div></div>
        <div class="gameImgDiv"><div class="gameImgDivInner"><img class="gameImg" src="~/Images/Game1.jpg" /></div></div>
        <div class="gameImgDiv"><div class="gameImgDivInner"><img class="gameImg" src="~/Images/Movie.jpg" /></div></div>
    </div>
    
    <div>
        <div id="Arena">
            <div id="top">
            <div id="section1" class="sideSection">
    <div id="1_1" class="seatSide"></div>
    <div id="1_2" class="seatSide"></div>
    <div id="1_3" class="seatSide"></div>
    <div id="1_4" class="seatSide"></div>
    <div id="1_5" class="seatSide"></div>
    <div id="1_6" class="seatSide"></div>
    <div id="1_7" class="seatSide"></div>
    <div id="1_8" class="seatSide"></div>
    <div id="1_9" class="seatSide"></div>
    <div id="1_10" class="seatSide"></div>
    <div id="1_11" class="seatSide"></div>
    <div id="1_12" class="seatSide"></div>
    <div id="1_13" class="seatSide"></div>
    <div id="1_14" class="seatSide"></div>
    <div id="1_15" class="seatSide"></div>
    <div id="1_16" class="seatSide"></div>
    <div id="1_17" class="seatSide"></div>
    <div id="1_18" class="seatSide"></div>
    <div id="1_19" class="seatSide"></div>
    <div id="1_20" class="seatSide"></div>
</div>
            <div id="section2" class="midSection">
                <div id="2_1" class="seatMid"></div>
                <div id="2_2" class="seatMid"></div>
                <div id="2_3" class="seatMid"></div>
                <div id="2_4" class="seatMid"></div>
                <div id="2_5" class="seatMid"></div>
                <div id="2_6" class="seatMid"></div>
                <div id="2_7" class="seatMid"></div>
                <div id="2_8" class="seatMid"></div>
                <div id="2_9" class="seatMid"></div>
                <div id="2_10" class="seatMid"></div>
                <div id="2_11" class="seatMid"></div>
                <div id="2_12" class="seatMid"></div>
                <div id="2_13" class="seatMid"></div>
                <div id="2_14" class="seatMid"></div>
                <div id="2_15" class="seatMid"></div>
                <div id="2_16" class="seatMid"></div>
                <div id="2_17" class="seatMid"></div>
                <div id="2_18" class="seatMid"></div>
                <div id="2_19" class="seatMid"></div>
                <div id="2_20" class="seatMid"></div>
                <div id="2_21" class="seatMid"></div>
                <div id="2_22" class="seatMid"></div>
                <div id="2_23" class="seatMid"></div>
                <div id="2_24" class="seatMid"></div>
                <div id="2_25" class="seatMid"></div>
                <div id="2_26" class="seatMid"></div>
                <div id="2_27" class="seatMid"></div>
                <div id="2_28" class="seatMid"></div>
            </div>
            <div id="Section3" class="sideSection">
                            <div id="3_1" class="seatSide"></div>
                            <div id="3_2" class="seatSide"></div>
                            <div id="3_3" class="seatSide"></div>
                            <div id="3_4" class="seatSide"></div>
                            <div id="3_5" class="seatSide"></div>
                            <div id="3_6" class="seatSide"></div>
                            <div id="3_7" class="seatSide"></div>
                            <div id="3_8" class="seatSide"></div>
                            <div id="3_9" class="seatSide"></div>
                            <div id="3_10" class="seatSide"></div>
                            <div id="3_11" class="seatSide"></div>
                            <div id="3_12" class="seatSide"></div>
                            <div id="3_13" class="seatSide"></div>
                            <div id="3_14" class="seatSide"></div>
                            <div id="3_15" class="seatSide"></div>
                            <div id="3_16" class="seatSide"></div>
                            <div id="3_17" class="seatSide"></div>
                            <div id="3_18" class="seatSide"></div>
                            <div id="3_19" class="seatSide"></div>
                            <div id="3_20" class="seatSide"></div>
                        </div>
            </div>

            <div id="Mid">
                <div id="section4" class="sideSection">
                    <div id="4_1" class="seatSide"></div>
                    <div id="4_2" class="seatSide"></div>
                    <div id="4_3" class="seatSide"></div>
                    <div id="4_4" class="seatSide"></div>
                    <div id="4_5" class="seatSide"></div>
                    <div id="4_6" class="seatSide"></div>
                    <div id="4_7" class="seatSide"></div>
                    <div id="4_8" class="seatSide"></div>
                    <div id="4_9" class="seatSide"></div>
                    <div id="4_10" class="seatSide"></div>
                    <div id="4_11" class="seatSide"></div>
                    <div id="4_12" class="seatSide"></div>
                    <div id="4_13" class="seatSide"></div>
                    <div id="4_14" class="seatSide"></div>
                    <div id="4_15" class="seatSide"></div>
                    <div id="4_16" class="seatSide"></div>
                    <div id="4_17" class="seatSide"></div>
                    <div id="4_18" class="seatSide"></div>
                    <div id="4_19" class="seatSide"></div>
                    <div id="4_20" class="seatSide"></div>
                </div>
                <div id="section5" class="midSection">
                <div class="gameImgDivInner"><img class="arenaImg" src="~/Images/Fair.jpg"/></div>    
                </div>
                <div id="Section6" class="sideSection">
                <div id="6_1" class="seatSide"></div>
                <div id="6_2" class="seatSide"></div>
                <div id="6_3" class="seatSide"></div>
                <div id="6_4" class="seatSide"></div>
                <div id="6_5" class="seatSide"></div>
                <div id="6_6" class="seatSide"></div>
                <div id="6_7" class="seatSide"></div>
                <div id="6_8" class="seatSide"></div>
                <div id="6_9" class="seatSide"></div>
                <div id="6_10" class="seatSide"></div>
                <div id="6_11" class="seatSide"></div>
                <div id="6_12" class="seatSide"></div>
                <div id="6_13" class="seatSide"></div>
                <div id="6_14" class="seatSide"></div>
                <div id="6_15" class="seatSide"></div>
                <div id="6_16" class="seatSide"></div>
                <div id="6_17" class="seatSide"></div>
                <div id="6_18" class="seatSide"></div>
                <div id="6_19" class="seatSide"></div>
                <div id="6_20" class="seatSide"></div>
            </div>
            </div>
        
            <div id="Bottom"><div id="section7" class="sideSection">
    <div id="7_1" class="seatSide"></div>
    <div id="7_2" class="seatSide"></div>
    <div id="7_3" class="seatSide"></div>
    <div id="7_4" class="seatSide"></div>
    <div id="7_5" class="seatSide"></div>
    <div id="7_6" class="seatSide"></div>
    <div id="7_7" class="seatSide"></div>
    <div id="7_8" class="seatSide"></div>
    <div id="7_9" class="seatSide"></div>
    <div id="7_10" class="seatSide"></div>
    <div id="7_11" class="seatSide"></div>
    <div id="7_12" class="seatSide"></div>
    <div id="7_13" class="seatSide"></div>
    <div id="7_14" class="seatSide"></div>
    <div id="7_15" class="seatSide"></div>
    <div id="7_16" class="seatSide"></div>
    <div id="7_17" class="seatSide"></div>
    <div id="7_18" class="seatSide"></div>
    <div id="7_19" class="seatSide"></div>
    <div id="7_20" class="seatSide"></div>
</div>
<div id="section8" class="midSection">
    <div id="8_1" class="seatMid"></div>
    <div id="8_2" class="seatMid"></div>
    <div id="8_3" class="seatMid"></div>
    <div id="8_4" class="seatMid"></div>
    <div id="8_5" class="seatMid"></div>
    <div id="8_6" class="seatMid"></div>
    <div id="8_7" class="seatMid"></div>
    <div id="8_8" class="seatMid"></div>
    <div id="8_9" class="seatMid"></div>
    <div id="8_10" class="seatMid"></div>
    <div id="8_11" class="seatMid"></div>
    <div id="8_12" class="seatMid"></div>
    <div id="8_13" class="seatMid"></div>
    <div id="8_14" class="seatMid"></div>
    <div id="8_15" class="seatMid"></div>
    <div id="8_16" class="seatMid"></div>
    <div id="8_17" class="seatMid"></div>
    <div id="8_18" class="seatMid"></div>
    <div id="8_19" class="seatMid"></div>
    <div id="8_20" class="seatMid"></div>
    <div id="8_21" class="seatMid"></div>
    <div id="8_22" class="seatMid"></div>
    <div id="8_23" class="seatMid"></div>
    <div id="8_24" class="seatMid"></div>
    <div id="8_25" class="seatMid"></div>
    <div id="8_26" class="seatMid"></div>
    <div id="8_27" class="seatMid"></div>
    <div id="8_28" class="seatMid"></div>
</div>
<div id="Section9" class="sideSection">
    <div id="9_1" class="seatSide"></div>
    <div id="9_2" class="seatSide"></div>
    <div id="9_3" class="seatSide"></div>
    <div id="9_4" class="seatSide"></div>
    <div id="9_5" class="seatSide"></div>
    <div id="9_6" class="seatSide"></div>
    <div id="9_7" class="seatSide"></div>
    <div id="9_8" class="seatSide"></div>
    <div id="9_9" class="seatSide"></div>
    <div id="9_10" class="seatSide"></div>
    <div id="9_11" class="seatSide"></div>
    <div id="9_12" class="seatSide"></div>
    <div id="9_13" class="seatSide"></div>
    <div id="9_14" class="seatSide"></div>
    <div id="9_15" class="seatSide"></div>
    <div id="9_16" class="seatSide"></div>
    <div id="9_17" class="seatSide"></div>
    <div id="9_18" class="seatSide"></div>
    <div id="9_19" class="seatSide"></div>
    <div id="9_20" class="seatSide"></div>
    
</div></div>
        
        </div>
        <div id="statusDiv">
            <div class="dispInln">Name &nbsp;<input id="custName" type="text" /></div>&nbsp;
            <div class="dispInln">Contact No &nbsp;<input id="custContact" type="text" /></div>
            <div class="dispInln"><button type="submit" style="float:right" id="book">Book</button></div>
        </div>
    </div>
    
</div>
<script>
    var counter = 1;
    $(document).ready(function () {
        $(document).on("mouseenter", ".gameImg", "", OnMouseIn);
        $(document).on("mouseout", ".gameImg", "", OnMouseOut);
        $(document).on("mouseover", ".seatSide, .seatMid", "", OnMouseOverSeat);
        //$(document).on("mouseover", ".seatMid", "", OnMouseOverSeat);

        $(document).on("click", ".seatMid, .seatSide", "", OnMouseClick);
        $(document).on("click", "#book", "", BookTicket);
    });

    function OnMouseIn(event) {
        var element = $(this);
        $(".gameImg").addClass("mask");
        $(this).removeClass("mask");        
    }

    function OnMouseOut(event) {        
        $(".gameImg").removeClass("mask");
    }

    function OnMouseOverSeat(event) {
        counter++;
        $(this).attr('title', 'Seat No '+ counter +'\n Price: 150');
    }

    function OnMouseClick(event)
    {
        $(this).toggleClass("selected");
        var selectedDiv = $(".selected");
        //$("#statusDiv").text("Total Seats selected " + selectedDiv.length);
    }

    function BookTicket(event) {
        if ($("#custName").val() == "")
        {
            alert("Please enter a username" + $("#custName").val());
            $("#custName").attr("", "");
            return;
        }
        else if ($("#custContact").val() == "")
        {
            alert("Please enter a password");
            return;
        }
        $.ajax({
            url: '@Url.Action("BookTicket","Home")',
            data:JSON.stringify( {
                CustomerName: $("#custName").val(),
                CustomerContactNo: $("#custContact").val()
            }),
            type: 'POST',
            contentType: 'application/json; charset=utf-8',
            success: function (data) {
                // return values
                @*@{ Response.Redirect("~/Home/AddEvent");}*@
                console.log("Success!");
            location.href='/Home/AddEvent';
        },
        error: function () { console.log('error!!'); }
        });
    }
</script>
